<div
  role="menu"
  [id]="id"
  class="display-flex full-width border-left-1 border-warning border-bottom-05 padding-x-105 gap-105 padding-y-2 bg-white"
  style="border-bottom-color: var(--usa-base-lighter)"
  [hidden]="!isOpen">
  <div class="display-flex gap-1 flex-column">
    <h3 class="font-md text-semibold line-height-2 margin-0">{{ content.title }}</h3>
    <p class="usa-prose margin-0 font-sm line-height-3">{{ content.description }}</p>
    <form #formElement class="display-flex flex-column tablet:flex-row margin-y-1 gap-2" [formGroup]="form">
      <lib-adapt-combo-box
        class="width-full"
        [comboBoxStyle]="{ 'max-width': '100%' }"
        [items]="comparisonOptions"
        compareID="label"
        [itemLabel]="comparisonOptionLabelAccessor"
        [itemAccessor]="comparisonOptionValueAccessor"
        label="{{ content.comparison1Label }}"
        formControlName="comparison1">
        <ng-container errors>
          <div
            *ngIf="comparison1?.invalid && (comparison1?.dirty || comparison1?.touched)"
            class="form-errors margin-top-1 text-emergency">
            <div *ngIf="comparison1?.errors?.['required']" i18n>
              {{ content.validationMessages!['required'] }}
            </div>
          </div>
        </ng-container>
      </lib-adapt-combo-box>
      <lib-adapt-combo-box
        class="width-full"
        [comboBoxStyle]="{ 'max-width': '100%' }"
        [items]="comparisonOptions"
        compareID="label"
        [itemLabel]="comparisonOptionLabelAccessor"
        [itemAccessor]="comparisonOptionValueAccessor"
        label="{{ content.comparison2Label }}"
        formControlName="comparison2">
        <ng-container errors>
          <div
            *ngIf="comparison2?.invalid && (comparison2?.dirty || comparison2?.touched)"
            class="form-errors margin-top-1 text-emergency">
            <div *ngIf="comparison2?.errors?.['required']" i18n>
              {{ content.validationMessages!['required'] }}
            </div>
          </div>
        </ng-container>
      </lib-adapt-combo-box>
    </form>
    <div class="display-flex margin-top-1 gap-2">
      <button
        #cancelButton
        [attr.aria-controls]="id"
        [attr.aria-expanded]="isOpen"
        (click)="toggleControls()"
        class="usa-button usa-button--outline">
        {{ content.cancelButtonLabel }}
      </button>
      <button class="usa-button" (click)="onSubmit()">{{ content.compareButtonLabel }}</button>
    </div>
  </div>
</div>
